# Test Simple Expression Text

<p>{{firstname}} {{lastname}}</p>

==>

Template(Text,Exp(ExpOpen, Identifier, ExpClose),Text,Exp(ExpOpen, Identifier, ExpClose),Text)

# Test path expressions

{{person.firstname}} {{person.lastname}}

==>

Template(Exp(ExpOpen, Identifier, ExpClose),Text,Exp(ExpOpen, Identifier, ExpClose))

# Test changing the context

{{../prefix}}

==>

Template(Exp(ExpOpen, Identifier, ExpClose))

# Test escaping

{{{specialChars}}}

==>

Template(Escape(EscOpen,Identifier,EscClose))

# Test helper 

{{firstname}} {{loud lastname}}

==>

Template(Exp(ExpOpen,Identifier,ExpClose),Text,HelperExp(ExpOpen, Identifier,Param(Identifier),ExpClose))

# Test helper params

{{progress "Search" 10 false}}

===>

Template(HelperExp(ExpOpen,Identifier, Param(String),Param(Number),Param(Bool),ExpClose))

# Test hash HashParam 

{{link "See Website" href=person.url class="person"}}

===>

Template(HelperExp(ExpOpen,Identifier, Param(String),Param(HashParam(Identifier,Identifier)),Param(HashParam(Identifier,String)),ExpClose))

# Test hash expression

{{#each people}}
   {{.}} lives in {{lookup ../cities @index}}
{{/each}}

===>

Template(HelperOpenExp(ExpOpen,HelperOpen(Each),Param(Identifier),ExpClose),Text,Exp(ExpOpen,Identifier,ExpClose),Text,InlineHelperExp(ExpOpen,InlineHelper(Lookup),Param(Identifier),Param(Identifier),ExpClose),Text,HelperCloseExp(ExpOpen,HelperClose(EachClose),ExpClose))

# Test sub expression

{{#if (isdefined value1)}}qtrue

===>

Template()